import{a as b}from"./chunk-VXJUANFU.js";import"./chunk-4TYPQ5EV.js";import"./chunk-FBZZWI7R.js";import{g as j,i as E,k as z}from"./chunk-SMJV5P4L.js";import"./chunk-2SHHKXS4.js";import{a as N,b as I,c as T,d as U,e as W,f as F,k as V,l as G}from"./chunk-MSRDUID7.js";import{$a as e,Ca as p,Da as g,Rb as A,Ta as f,V as D,ab as i,bb as M,ca as v,cb as x,da as k,eb as h,jb as w,ka as c,kb as s,la as d,nb as S,ob as _,pb as y,rb as C}from"./chunk-XIUA2BWT.js";var P=(()=>{let t=class t{constructor(n,a){this.authService=n,this.router=a,this.user={}}onSubmit(){console.log(this.user),this.authService.authenticateUser(this.user).subscribe(n=>{console.log(n),localStorage.setItem("accessToken",n.accessToken),localStorage.setItem("user",n),this.router.navigate(["/quiz"])})}goTo(n){console.log(n),this.router.navigate([n])}loginWithGoogle(){this.authService.getGoogleOAuthURL()}};t.\u0275fac=function(a){return new(a||t)(g(b),g(E))},t.\u0275cmp=v({type:t,selectors:[["app-login"]],standalone:!0,features:[C],decls:26,vars:4,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"centerHorizontal","centreVetical",2,"display","flex","flex-direction","column","max-width","300px",3,"ngSubmit"],["type","text","name","email",1,"customInput",3,"ngModelChange","ngModel"],[3,"hidden"],["type","text","name","password",1,"customInput",3,"ngModelChange","ngModel"],[1,"customInput","margin1UnitVertical","actionButton"],[1,"centerHorizontal",2,"display","flex","flex-direction","column"],[1,"centerHorizontal"],[1,"centerHorizontal",2,"max-width","300px"],[1,"customInput",2,"justify-content","center",3,"click"],["src","../../../assets/icon/googleLogoG.png",2,"width","20px","height","20px"],["href","",1,"centerHorizontal",3,"click"]],template:function(a,o){if(a&1){let l=x();e(0,"form",3,0),h("ngSubmit",function(){return c(l),d(o.onSubmit())}),e(2,"label"),s(3,"E-mail"),i(),e(4,"input",4,1),y("ngModelChange",function(r){return c(l),_(o.user.email,r)||(o.user.email=r),d(r)}),i(),e(6,"span",5),s(7," Error "),i(),e(8,"label"),s(9,"Password"),i(),e(10,"input",6,2),y("ngModelChange",function(r){return c(l),_(o.user.password,r)||(o.user.password=r),d(r)}),i(),e(12,"span",5),s(13," Error "),i(),e(14,"button",7),s(15,"Login"),i()(),e(16,"div",8)(17,"p",9),s(18,"-- Or Login with --"),i(),e(19,"div",10)(20,"button",11),h("click",function(){return c(l),d(o.loginWithGoogle())}),M(21,"img",12),s(22," \xA0\xA0Google "),i()(),M(23,"br"),e(24,"a",13),h("click",function(r){return c(l),o.goTo("/auth/signup"),d(r.preventDefault())}),s(25,"Register new account"),i()()}if(a&2){let l=w(5),u=w(11);p(4),S("ngModel",o.user.email),p(2),f("hidden",l.valid),p(4),S("ngModel",o.user.password),p(2),f("hidden",u.valid)}},dependencies:[V,F,N,I,T,W,U]});let m=t;return m})();var B=(()=>{let t=class t{constructor(n,a){this.authService=n,this.router=a,this.newUser={}}onSubmit(){console.log(this.newUser),console.log(this.newUser),this.authService.createUser(this.newUser).subscribe(n=>{console.log(n)})}goTo(n){this.router.navigate([n])}loginWithGoogle(){this.authService.getGoogleOAuthURL()}};t.\u0275fac=function(a){return new(a||t)(g(b),g(E))},t.\u0275cmp=v({type:t,selectors:[["app-signup"]],standalone:!0,features:[C],decls:32,vars:6,consts:[["loginForm","ngForm"],["userName","ngModel"],["email","ngModel"],["password","ngModel"],[1,"centerHorizontal","centreVetical",2,"display","flex","flex-direction","column","max-width","300px",3,"ngSubmit"],[2,"justify-content","left"],["type","text","name","userName",1,"customInput",3,"ngModelChange","ngModel"],[3,"hidden"],["type","text","name","email",1,"customInput",3,"ngModelChange","ngModel"],["type","text","name","password",1,"customInput",3,"ngModelChange","ngModel"],[1,"customInput","margin1UnitVertical","actionButton"],[1,"centerHorizontal",2,"display","flex","flex-direction","column"],[1,"centerHorizontal"],[1,"centerHorizontal",2,"max-width","300px"],[1,"customInput",2,"justify-content","center",3,"click"],["src","../../../assets/icon/googleLogoG.png",2,"width","20px","height","20px"],["href","",1,"centerHorizontal",3,"click"]],template:function(a,o){if(a&1){let l=x();e(0,"form",4,0),h("ngSubmit",function(){return c(l),d(o.onSubmit())}),e(2,"label",5),s(3,"Name"),i(),e(4,"input",6,1),y("ngModelChange",function(r){return c(l),_(o.newUser.userName,r)||(o.newUser.userName=r),d(r)}),i(),e(6,"span",7),s(7," Error "),i(),e(8,"label"),s(9,"E-mail"),i(),e(10,"input",8,2),y("ngModelChange",function(r){return c(l),_(o.newUser.email,r)||(o.newUser.email=r),d(r)}),i(),e(12,"span",7),s(13," Error "),i(),e(14,"label"),s(15,"Password"),i(),e(16,"input",9,3),y("ngModelChange",function(r){return c(l),_(o.newUser.password,r)||(o.newUser.password=r),d(r)}),i(),e(18,"span",7),s(19," Error "),i(),e(20,"button",10),s(21,"Signup"),i()(),e(22,"div",11)(23,"p",12),s(24,"-- Or Login with --"),i(),e(25,"div",13)(26,"button",14),h("click",function(){return c(l),d(o.loginWithGoogle())}),M(27,"img",15),s(28," \xA0\xA0Google "),i()(),M(29,"br"),e(30,"a",16),h("click",function(r){return c(l),o.goTo("/auth/login"),d(r.preventDefault())}),s(31,"Already have an account?"),i()()}if(a&2){let l=w(5),u=w(11),r=w(17);p(4),S("ngModel",o.newUser.userName),p(2),f("hidden",l.valid),p(4),S("ngModel",o.newUser.email),p(2),f("hidden",u.valid),p(4),S("ngModel",o.newUser.password),p(2),f("hidden",r.valid)}},dependencies:[V,F,N,I,T,W,U]});let m=t;return m})();var O=(()=>{let t=class t{constructor(n,a,o){this.route=n,this.router=a,this.authService=o,this.userDataEncoded=null}ngOnInit(){this.route.queryParams.subscribe(n=>{if(n.data){this.userDataEncoded=n.data;let a=JSON.parse(atob(this.userDataEncoded));console.log(a),this.authService.setUserSensitiveData(a),this.router.navigate(["/quiz"])}}),console.log()}};t.\u0275fac=function(a){return new(a||t)(g(j),g(E),g(b))},t.\u0275cmp=v({type:t,selectors:[["app-oauth"]],standalone:!0,features:[C],decls:2,vars:0,template:function(a,o){a&1&&(e(0,"p"),s(1,"Authentication in progress"),i())}});let m=t;return m})();var J=[{path:"signup",component:B},{path:"login",component:P},{path:"oauth",component:O}],re=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=k({type:t}),t.\u0275inj=D({imports:[A,V,z.forChild(J),G]});let m=t;return m})();export{re as LoginModule};
