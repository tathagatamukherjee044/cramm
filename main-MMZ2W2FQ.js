import{a as Ae}from"./chunk-YZVKE46O.js";import"./chunk-QF73DUD6.js";import{a as ke,b as W}from"./chunk-XRDGZS6U.js";import{a as Ce,b as Me,c as Ie,d as _e,f as j,g as U,h as Oe}from"./chunk-RNLN5QFR.js";import{b as Pe,c as Te,e as _}from"./chunk-LO7BOWZV.js";import{a as xe,j as Se,k as Ee,n as we}from"./chunk-VD7QXCPK.js";import{$ as N,Da as oe,E as x,Eb as be,F as q,Gb as K,H as V,Ia as ae,K as S,Ka as b,Na as se,Pa as E,Qa as le,T as v,Va as g,W as te,Y as T,Za as ce,a as ee,ab as de,ba as z,ca as u,cb as Y,da as R,eb as me,f as y,hb as pe,ia as B,ib as ue,j as A,ja as H,jb as he,kb as ge,la as F,lb as fe,m as D,mb as o,na as ne,nb as r,ob as m,pb as $,qa as L,rb as G,s as M,sb as I,v as P,xb as i,ya as ie,yb as ye,za as re,zb as ve}from"./chunk-BEKEJZ2R.js";var Be=a=>({"tab-btn--active":a});function He(a,e){if(a&1&&(m(0,"i",8),i(1)),a&2){let l=I();b(),ve(" ",l.userData.streak," ")}}function Ye(a,e){if(a&1){let l=$();o(0,"i",9),G("click",function(){B(l);let n=I();return H(n.route("/auth/login"))}),r()}}function $e(a,e){if(a&1){let l=$();o(0,"li",7)(1,"button",10),G("click",function(){let n=B(l).$implicit,s=I();return H(s.route(n.link))}),m(2,"i"),o(3,"span"),i(4),r()()()}if(a&2){let l=e.$implicit,t=I();b(),me("ngClass",be(4,Be,t.router.url==l.link)),b(),pe(l.icon),b(2),ye(l.display)}}var De=(()=>{let e=class e{constructor(t,n){this.router=t,this.userService=n,this.userData={_id:"",name:"",email:"",streak:0,loggedIn:!1},this.array=[1,2,3,4,5,7,3,4,4,4455,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],this.menuItems=[{link:"/quiz",display:"Quiz",icon:"ph-duotone ph-scroll"},{link:"/learn",display:"Home",icon:"ph-duotone ph-house-line"},{link:"/profile",display:"Profile",icon:"ph-duotone ph-user-circle"}],this.userData=this.userService.userValue}ngOnInit(){console.log(_.apiUrl)}show(){console.log(_.apiUrl)}route(t){console.log(t),this.router.navigate([t])}};e.\u0275fac=function(n){return new(n||e)(E(U),E(ke))},e.\u0275cmp=g({type:e,selectors:[["app-home"]],decls:12,vars:1,consts:[[1,"content","fullscreen"],[1,"header"],[2,"display","flex","flex-direction","column"],[1,"header-logo"],[1,"header-content"],[1,"ph-duotone","ph-sign-in","colourPrimary",2,"font-size","2em"],[1,"tabs"],[1,"tab"],[1,"ph-duotone","ph-fire",2,"color","rgb(255, 179, 0)","font-size","2em"],[1,"ph-duotone","ph-sign-in","colourPrimary",2,"font-size","2em",3,"click"],[1,"tab-btn",3,"click","ngClass"]],template:function(n,s){n&1&&(o(0,"main",0)(1,"header",1)(2,"div",2)(3,"h1",3),i(4,"cramm.in"),r()(),o(5,"div",4),ce(6,He,2,1)(7,Ye,1,0,"i",5),r()(),m(8,"router-outlet"),o(9,"div",6),ge(10,$e,5,6,"li",7,he),r()()),n&2&&(b(6),ue(s.userData.loggedIn?6:7),b(4),fe(s.menuItems))},dependencies:[j,Ee,Se],encapsulation:2});let a=e;return a})();var Ne=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-landing"]],decls:76,vars:0,consts:[[1,"ph-fill","ph-rocket-launch",2,"color","orange"],["id","features"],[1,"ph-fill","ph-fire",2,"color","#FFB347"],[1,"ph-bold","ph-money",2,"color","var(--c-action-primary)"],[1,"ph-bold","ph-books",2,"color","#D81B60"],[1,"ph-bold","ph-question",2,"color","#FFC107"],[1,"ph-bold","ph-pencil-ruler",2,"color","#4CAF50"],[1,"ph-bold","ph-users",2,"color","#9C27B0"],[1,"ph-bold","ph-hand-waving",2,"color","#009688"],["id","get-started"],[1,"ph-bold","ph-chart-line-up",2,"color","var(--c-action-primary)"],["href","/learn",1,"cta-button"],["id","about"],[1,"ph-bold","ph-stethoscope",2,"color","var(--c-action-primary)"],["href","/privacy"],["href","/terms"],["href","https://github.com/tathagatamukherjee044"],[1,"ph-duotone","ph-github-logo"]],template:function(n,s){n&1&&(o(0,"header")(1,"h1"),m(2,"i",0),i(3," Ace Your NEET with Free Practice Tests!"),r(),o(4,"p"),i(5,"Dive into targeted practice and conquer the exam with our comprehensive, free resources. No stress, just success!"),r()(),o(6,"main")(7,"section",1)(8,"h2"),m(9,"i",2),i(10," Why Our NEET Practice Tests Rock:"),r(),o(11,"ul")(12,"li"),m(13,"i",3),i(14,"\xA0 "),o(15,"strong"),i(16,"Totally Free:"),r(),i(17," Zero hidden fees, just pure learning!"),r(),o(18,"li"),m(19,"i",4),i(20,"\xA0 "),o(21,"strong"),i(22,"Syllabus Supercharged:"),r(),i(23," Covers every topic, so you're always prepared."),r(),o(24,"li"),m(25,"i",5),i(26," \xA0"),o(27,"strong"),i(28,"Extensive Question Bank:"),r(),i(29," Practice with a wide range of NEET-level questions."),r(),o(30,"li"),m(31,"i",6),i(32,"\xA0 "),o(33,"strong"),i(34,"Focused Practice:"),r(),i(35," Sharpen your skills with targeted question sets."),r(),o(36,"li"),m(37,"i",7),i(38,"\xA0 "),o(39,"strong"),i(40,"Collaborative Question Submissions:"),r(),i(41," Contribute and learn from user-submitted questions."),r(),o(42,"li"),m(43,"i",8),i(44,"\xA0 "),o(45,"strong"),i(46,"Community Learning:"),r(),i(47," Engage with peers and improve together."),r()()(),o(48,"section",9)(49,"h2"),i(50,"Ready to Level Up? "),m(51,"i",10),i(52," Start Practicing Now!"),r(),o(53,"p"),i(54,"Your NEET adventure begins here! Click below and unlock your potential with our free practice tests."),r(),o(55,"a",11),i(56,"Start Practicing! \xA0"),m(57,"i",0),r()(),o(58,"section",12)(59,"h2"),i(60,"About NEET: Your Gateway to Medicine "),m(61,"i",13),r(),o(62,"p"),i(63,"NEET is your first step to becoming a doctor in India. We're here to support you with free, effective practice tests to help you achieve your medical dreams."),r()()(),o(64,"footer")(65,"p")(66,"a",14),i(67,"Privacy Policy"),r(),i(68," | "),o(69,"a",15),i(70,"Terms of Service"),r()(),o(71,"p"),i(72,"An Open Source project by "),o(73,"a",16),m(74,"i",17),i(75,"tathagata.mukherjee044"),r()()())},styles:["body[_ngcontent-%COMP%]{font-family:Urbanist,sans-serif;background:var(--c-bg-primary);color:var(--c-text-primary)}header[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background-color:transparent;border-bottom:2px solid var(--c-text-primary);font-family:Lora,serif}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;color:var(--c-action-primary);margin-bottom:10px}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:var(--c-text-secondary)}main[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;border-radius:8px;box-shadow:4px 4px var(--c-box-shadow);border:2px solid var(--c-text-primary);background-color:transparent}section[_ngcontent-%COMP%]{margin-bottom:30px}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--c-action-primary);border-bottom:2px solid var(--c-text-primary);padding-bottom:10px}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px dashed var(--c-text-secondary)}.cta-button[_ngcontent-%COMP%]{border-radius:5px;border:2px solid var(--c-text-primary);background-color:var(--c-action-primary);box-shadow:4px 4px var(--c-box-shadow);font-size:17px;font-weight:600;color:#fff;display:flex;align-items:center;justify-content:center;padding:8px 12px;text-decoration:none;transition:background-color .3s ease,border-color .3s ease}.cta-button[_ngcontent-%COMP%]:hover{background-color:var(--c-action-secondary);border-color:var(--c-action-secondary)}footer[_ngcontent-%COMP%]{text-align:center;padding:20px 0;border-top:1px solid var(--c-text-primary)}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--c-action-primary);text-decoration:none;margin:0 10px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ph-duotone[_ngcontent-%COMP%]{font-size:1.2em}"]});let a=e;return a})();var Re=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-privacy"]],decls:69,vars:0,consts:[[1,"container"]],template:function(n,s){n&1&&(o(0,"body")(1,"div",0)(2,"h1"),i(3,"Privacy Policy - cramm.in"),r(),o(4,"p"),i(5,"cramm.in is an open-source application distributed under the MIT License. This Privacy Policy describes how we handle the information you provide while using our services."),r(),o(6,"h2"),i(7,"1. Introduction"),r(),o(8,"p"),i(9,"This Privacy Policy describes how cramm.in collects, uses, and shares information about you when you use our services. We are committed to protecting your privacy and ensuring the security of your information."),r(),o(10,"h2"),i(11,"2. Information We Collect"),r(),o(12,"p"),i(13,"We collect the following types of information:"),r(),o(14,"ul")(15,"li")(16,"strong"),i(17,"Email Address:"),r(),i(18," To create and manage your user account."),r(),o(19,"li")(20,"strong"),i(21,"Submitted Questions:"),r(),i(22," To improve the application's question bank and provide a collaborative learning environment."),r()(),o(23,"h2"),i(24,"3. How We Use Your Information"),r(),o(25,"p"),i(26,"We use your information for the following purposes:"),r(),o(27,"ul")(28,"li"),i(29,"To create and manage your user account using your email address."),r(),o(30,"li"),i(31,"To improve the application with submitted questions."),r()(),o(32,"h2"),i(33,"4. Sharing Your Information"),r(),o(34,"p"),i(35,"We do not share your personal information with any third parties."),r(),o(36,"h2"),i(37,"5. Data Security"),r(),o(38,"p"),i(39,"We take the following measures to protect your data:"),r(),o(40,"ul")(41,"li"),i(42,"Access controls to limit who can see your data."),r(),o(43,"li"),i(44,"Secure servers to store your data safely."),r()(),o(45,"h2"),i(46,"6. User Rights"),r(),o(47,"p"),i(48,"Currently, users have the right to access their submitted questions. In the future, we will implement the ability to delete user accounts and associated data."),r(),o(49,"h2"),i(50,"7. Cookies"),r(),o(51,"p"),i(52,"We use cookies for authentication purposes only. These cookies help us to maintain your session and ensure you stay logged in securely."),r(),o(53,"h2"),i(54,"8. Children's Privacy"),r(),o(55,"p"),i(56,"We do not have specific age restrictions for using our application. We collect email addresses from all users for account creation purposes."),r(),o(57,"h2"),i(58,"9. International Data Transfers"),r(),o(59,"p"),i(60,"We do not transfer user data internationally."),r(),o(61,"h2"),i(62,"10. Changes to This Policy"),r(),o(63,"p"),i(64,"We will notify you of any changes to this Privacy Policy by posting the updated policy on our application and, if necessary, via email."),r(),o(65,"h2"),i(66,"11. Contact Us"),r(),o(67,"p"),i(68,"If you have any questions or concerns about this Privacy Policy, please contact us at tathagatamukherjee044@gmail.com"),r()()())},encapsulation:2});let a=e;return a})();var Fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-terms"]],decls:60,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href",ae`https://fonts.googleapis.com/css2?family=Urbanist:wght@400;600;700&display=swap`],[1,"container"],["href","https://opensource.org/licenses/MIT"]],template:function(n,s){n&1&&(o(0,"html",0)(1,"head"),m(2,"meta",1)(3,"meta",2),o(4,"title"),i(5,"Terms of Service - cramm.in"),r(),m(6,"link",3),r(),o(7,"body")(8,"div",4)(9,"h1"),i(10,"Terms of Service - cramm.in (MIT License)"),r(),o(11,"h2"),i(12,"1. Acceptance of Terms"),r(),o(13,"p"),i(14,"By using, contributing to, or distributing cramm.in, you agree to these Terms of Service, in conjunction with the project's MIT License."),r(),o(15,"h2"),i(16,"2. Use of the Service"),r(),o(17,"p"),i(18,"cramm.in is an open-source application for NEET question practice and collaborative question submissions. You are free to use, modify, and distribute the application according to the terms of the MIT License."),r(),o(19,"h2"),i(20,"3. User Content"),r(),o(21,"p")(22,"strong"),i(23,"3.1 Ownership:"),r(),i(24," You retain ownership of the questions you submit to cramm.in. However, once a question is submitted, it becomes a permanent part of the application's question bank and cannot be deleted by the user. By submitting content, you grant cramm.in a non-exclusive, royalty-free license to use, display, and distribute your content within the application, as well as according to the project's MIT License. "),r(),o(25,"p")(26,"strong"),i(27,"3.2 Responsibility:"),r(),i(28," You are solely responsible for the content you submit. You warrant that your content does not infringe any intellectual property rights, is not defamatory, and complies with all applicable laws and regulations. "),r(),o(29,"p")(30,"strong"),i(31,"3.3 Moderation:"),r(),i(32," cramm.in reserves the right to moderate, edit, or remove any user-submitted content that violates these terms or is deemed inappropriate. "),r(),o(33,"h2"),i(34,"4. MIT License"),r(),o(35,"p"),i(36," cramm.in is distributed under the MIT License. The full text of the license is available at "),o(37,"a",5),i(38,"https://opensource.org/licenses/MIT"),r(),i(39,". By using, modifying, or distributing cramm.in, you agree to the terms of this license. "),r(),o(40,"h2"),i(41,"5. Disclaimer of Warranties"),r(),o(42,"p"),i(43,' cramm.in is provided "as is" and "as available" under the terms of the MIT License. We do not provide any additional warranties beyond those specified in the license. '),r(),o(44,"h2"),i(45,"6. Limitation of Liability"),r(),o(46,"p"),i(47," To the maximum extent permitted by applicable law, cramm.in shall not be liable for any damages arising from your use of the application, as specified in the MIT License. "),r(),o(48,"h2"),i(49,"7. Governing Law"),r(),o(50,"p"),i(51,"These Terms of Service shall be governed by and construed in accordance with the laws of the Republic of India, to the extent that they do not conflict with the MIT License."),r(),o(52,"h2"),i(53,"8. Changes to These Terms"),r(),o(54,"p"),i(55,"We reserve the right to modify or replace these Terms of Service at any time. We will provide notice of any significant changes by posting the updated terms on our application. Your continued use of the service after any such changes constitutes your acceptance of the new Terms of Service."),r(),o(56,"h2"),i(57,"9. Contact Us"),r(),o(58,"p"),i(59,"If you have any questions or concerns about these Terms of Service, please contact us at tathagatamukherjee044@gmail.com"),r()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Urbanist,sans-serif;color:var(--c-text-primary)}h1[_ngcontent-%COMP%]{color:var(--c-action-primary);border-bottom:2px solid var(--c-text-primary);padding-bottom:10px}h2[_ngcontent-%COMP%]{color:var(--c-action-primary);margin-top:20px}p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{color:var(--c-text-secondary);line-height:1.6}ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;border-radius:8px;box-shadow:4px 4px;border:2px solid var(--c-text-primary);background-color:transparent}"]});let a=e;return a})();var Le=[{path:"",component:Ne},{path:"privacy",component:Re},{path:"terms",component:Fe},{path:"",component:De,children:[{path:"learn",loadChildren:()=>import("./chunk-TNWZUS2T.js").then(a=>a.LearnModule)},{path:"profile",loadChildren:()=>import("./chunk-PVKIGD4P.js").then(a=>a.UserModule)}]},{path:"quiz",loadChildren:()=>import("./chunk-E2QCIWVK.js").then(a=>a.QuizModule)},{path:"auth",loadChildren:()=>import("./chunk-EPCIP56Q.js").then(a=>a.LoginModule)},{path:"main-layout",loadComponent:()=>import("./chunk-NO6TCIPK.js").then(a=>a.MainLayoutPage)},{path:"learn-more",loadComponent:()=>import("./chunk-PE6A6U6I.js").then(a=>a.LearnMorePage)},{path:"profile",loadComponent:()=>import("./chunk-Y7NUCO57.js").then(a=>a.ProfilePage)}];var je=(()=>{let e=class e{constructor(t,n){this.platformId=t,this.auth=n}ngOnInit(){console.log(this.platformId),we(this.platformId)?(this.auth.initUser(),setTimeout(()=>{this.auth.getData().subscribe()},1e3)):console.log("Running on the server, localStorage not available.")}};e.\u0275fac=function(n){return new(n||e)(E(ie),E(W))},e.\u0275cmp=g({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){n&1&&m(0,"router-outlet")},dependencies:[j],encapsulation:2});let a=e;return a})();var Ue=(a,e)=>{var l=a.clone();return console.log("Request is on its way"),e(l)};var We=(a,e)=>{let l=u(Ae),t=u(U),n=u(W);return e(a).pipe(V(s=>{let c="An unknown error occurred";if(s.error instanceof ErrorEvent)c=`Error: ${s.error.message}`;else if(c=`Error Code: ${s.status}
Message: ${s.error.message||s.message}`,s.status===401)return console.log(s.error.message),s.error.message!=="invalidRefresh"?(console.log("trying refresh token"),n.refreshToken().pipe(v(d=>{if(d){let h=a.clone({});return e(h)}else return l.showMinimalInfo("Please Login to Continue"),M(()=>s)}),V(()=>(l.showMinimalInfo("Session expired. Please login again."),M(()=>s))))):(l.showMinimalInfo("Session expired. Please login again."),M(()=>s));return console.log("Showing error message:",c),l.showMinimalInfo(c),M(()=>s)}))};var Ge="@",Ke=(()=>{let e=class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=u(F);loadingSchedulerFn=u(Qe,{optional:!0});_engine;constructor(t,n,s,c,d){this.doc=t,this.delegate=n,this.zone=s,this.animationType=c,this.moduleImpl=d}ngOnDestroy(){var t;(t=this._engine)==null||t.flush()}loadImpl(){let t=()=>{var s;return(s=this.moduleImpl)!=null?s:import("./chunk-EKY262IG.js").then(c=>c)},n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(s=>{throw new te(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:c})=>{this._engine=s(this.animationType,this.doc);let d=new c(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(t,n){var d,h;let s=this.delegate.createRenderer(t,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new Q(s);return(d=n==null?void 0:n.data)!=null&&d.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(h=this._rendererFactoryPromise)==null||h.then(p=>{var X,J;let f=p.createRenderer(t,n);c.use(f),(X=this.scheduler)!=null||(this.scheduler=this.injector.get(ne,null,{optional:!0})),(J=this.scheduler)==null||J.notify(10)}).catch(p=>{c.use(s)}),c}begin(){var t,n;(n=(t=this.delegate).begin)==null||n.call(t)}end(){var t,n;(n=(t=this.delegate).end)==null||n.call(t)}whenRenderingDone(){var t,n,s;return(s=(n=(t=this.delegate).whenRenderingDone)==null?void 0:n.call(t))!=null?s:Promise.resolve()}componentReplaced(t){var n,s,c;(n=this._engine)==null||n.flush(),(c=(s=this.delegate).componentReplaced)==null||c.call(s,t)}};y(e,"\u0275fac",function(n){le()}),y(e,"\u0275prov",T({token:e,factory:e.\u0275fac}));let a=e;return a})(),Q=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let l of this.replay)l(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,l){return this.delegate.createElement(e,l)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,l){this.delegate.appendChild(e,l)}insertBefore(e,l,t,n){this.delegate.insertBefore(e,l,t,n)}removeChild(e,l,t){this.delegate.removeChild(e,l,t)}selectRootElement(e,l){return this.delegate.selectRootElement(e,l)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,l,t,n){this.delegate.setAttribute(e,l,t,n)}removeAttribute(e,l,t){this.delegate.removeAttribute(e,l,t)}addClass(e,l){this.delegate.addClass(e,l)}removeClass(e,l){this.delegate.removeClass(e,l)}setStyle(e,l,t,n){this.delegate.setStyle(e,l,t,n)}removeStyle(e,l,t){this.delegate.removeStyle(e,l,t)}setProperty(e,l,t){this.shouldReplay(l)&&this.replay.push(n=>n.setProperty(e,l,t)),this.delegate.setProperty(e,l,t)}setValue(e,l){this.delegate.setValue(e,l)}listen(e,l,t,n){return this.shouldReplay(l)&&this.replay.push(s=>s.listen(e,l,t,n)),this.delegate.listen(e,l,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ge)}},Qe=new N("");function qe(a="animations"){return oe("NgAsyncAnimations"),R([{provide:se,useFactory:(e,l,t)=>new Ke(e,l,t,a),deps:[xe,Ce,L]},{provide:re,useValue:a==="noop"?"NoopAnimations":"BrowserAnimations"}])}var O="Service workers are disabled or not supported by this browser",C=class{serviceWorker;worker;registration;events;constructor(e,l){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new A(t=>t.error(new Error(O)));else{let t=null,n=new D;this.worker=new A(p=>(t!==null&&p.next(t),n.subscribe(f=>p.next(f))));let s=()=>{let{controller:p}=e;p!==null&&(t=p,n.next(t))};e.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(v(()=>e.getRegistration()));let c=new D;this.events=c.asObservable();let d=p=>{let{data:f}=p;f!=null&&f.type&&c.next(f)};e.addEventListener("message",d);let h=l==null?void 0:l.get(Y,null,{optional:!0});h==null||h.onDestroy(()=>{e.removeEventListener("controllerchange",s),e.removeEventListener("message",d)})}}postMessage(e,l){return new Promise(t=>{this.worker.pipe(S(1)).subscribe(n=>{n.postMessage(ee({action:e},l)),t()})})}postMessageWithOperation(e,l,t){let n=this.waitForOperationCompleted(t),s=this.postMessage(e,l);return Promise.all([s,n]).then(([,c])=>c)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let l;return typeof e=="string"?l=t=>t.type===e:l=t=>e.includes(t.type),this.events.pipe(q(l))}nextEventOfType(e){return this.eventsOfType(e).pipe(S(1))}waitForOperationCompleted(e){return new Promise((l,t)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(q(n=>n.nonce===e),S(1),P(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:l,error:t})})}get isEnabled(){return!!this.serviceWorker}},Ze=(()=>{let e=class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new D;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=x,this.notificationClicks=x,this.subscription=x;return}this.messages=this.sw.eventsOfType("PUSH").pipe(P(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(P(s=>s.data)),this.pushManager=this.sw.registration.pipe(P(s=>s.pushManager));let n=this.pushManager.pipe(v(s=>s.getSubscription()));this.subscription=new A(s=>{let c=n.subscribe(s),d=this.subscriptionChanges.subscribe(s);return()=>{c.unsubscribe(),d.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(O));let n={userVisibleOnly:!0},s=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(s.length));for(let d=0;d<s.length;d++)c[d]=s.charCodeAt(d);return n.applicationServerKey=c,new Promise((d,h)=>{this.pushManager.pipe(v(p=>p.subscribe(n)),S(1)).subscribe({next:p=>{this.subscriptionChanges.next(p),d(p)},error:h})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(O));let t=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((n,s)=>{this.subscription.pipe(S(1),v(t)).subscribe({next:n,error:s})})}decodeBase64(t){return atob(t)}};y(e,"\u0275fac",function(n){return new(n||e)(z(C))}),y(e,"\u0275prov",T({token:e,factory:e.\u0275fac}));let a=e;return a})(),Xe=(()=>{let e=class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=x,this.unrecoverable=x;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(O));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(O));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};y(e,"\u0275fac",function(n){return new(n||e)(z(C))}),y(e,"\u0275prov",T({token:e,factory:e.\u0275fac}));let a=e;return a})();var ze=new N("");function Je(){let a=u(k);if(!("serviceWorker"in navigator&&a.enabled!==!1))return;let e=u(ze),l=u(L),t=u(Y);l.runOutsideAngular(()=>{let n=navigator.serviceWorker,s=()=>{var c;return(c=n.controller)==null?void 0:c.postMessage({action:"INITIALIZE"})};n.addEventListener("controllerchange",s),t.onDestroy(()=>{n.removeEventListener("controllerchange",s)})}),l.runOutsideAngular(()=>{let n,{registrationStrategy:s}=a;if(typeof s=="function")n=new Promise(c=>s().subscribe(()=>c()));else{let[c,...d]=(s||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=Ve(+d[0]||0);break;case"registerWhenStable":n=Promise.race([t.whenStable(),Ve(+d[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}n.then(()=>navigator.serviceWorker.register(e,{scope:a.scope}).catch(c=>console.error("Service worker registration failed with:",c)))})}function Ve(a){return new Promise(e=>setTimeout(e,a))}function et(a,e){return new C(a.enabled!==!1?navigator.serviceWorker:void 0,e)}var k=class{enabled;scope;registrationStrategy};function Z(a,e={}){return R([Ze,Xe,{provide:ze,useValue:a},{provide:k,useValue:e},{provide:C,useFactory:et,deps:[k,F]},de(Je)])}_.local||void 0;Me(je,{providers:[Oe(Le),Pe(Te([Ue,We])),qe(),_e(Ie()),Z("ngsw-worker.js",{enabled:!K(),registrationStrategy:"registerWhenStable:30000"}),Z("ngsw-worker.js",{enabled:!K(),registrationStrategy:"registerWhenStable:30000"})]});
