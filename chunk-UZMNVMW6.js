import{a as V}from"./chunk-YMIMRQDD.js";import"./chunk-EAVKKZUG.js";import"./chunk-FBZZWI7R.js";import{i as F,k as C,m as j}from"./chunk-6QZX2UJX.js";import"./chunk-6KXDVKNN.js";import{a as x,b as N,c as I,d as T,e as U,f as W,k as E,l as z}from"./chunk-36QDKB2P.js";import{Da as d,Ia as g,Oa as v,Pa as k,U as D,Ub as A,Za as f,da as c,ea as p,fb as e,gb as i,hb as M,ib as b,kb as h,pb as w,qb as s,tb as S,ub as _,vb as y}from"./chunk-HMDBAE7C.js";var R=(()=>{let t=class t{constructor(n,a){this.authService=n,this.router=a,this.user={}}onSubmit(){console.log(this.user),this.authService.authenticateUser(this.user).subscribe(n=>{console.log(n),localStorage.setItem("accessToken",n.accessToken),localStorage.setItem("user",n),this.router.navigate(["/quiz"])})}goTo(n){console.log(n),this.router.navigate([n])}loginWithGoogle(){this.authService.getGoogleOAuthURL()}};t.\u0275fac=function(a){return new(a||t)(g(V),g(C))},t.\u0275cmp=v({type:t,selectors:[["app-login"]],decls:26,vars:4,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"centerHorizontal","centreVetical",2,"display","flex","flex-direction","column","max-width","300px",3,"ngSubmit"],["type","text","name","email",1,"customInput",3,"ngModelChange","ngModel"],[3,"hidden"],["type","text","name","password",1,"customInput",3,"ngModelChange","ngModel"],[1,"customInput","margin1UnitVertical","actionButton"],[1,"centerHorizontal",2,"display","flex","flex-direction","column"],[1,"centerHorizontal"],[1,"centerHorizontal",2,"max-width","300px"],[1,"customInput",2,"justify-content","center",3,"click"],["src","../../../assets/icon/googleLogoG.png",2,"width","20px","height","20px"],["href","",1,"centerHorizontal",3,"click"]],template:function(a,o){if(a&1){let l=b();e(0,"form",3,0),h("ngSubmit",function(){return c(l),p(o.onSubmit())}),e(2,"label"),s(3,"E-mail"),i(),e(4,"input",4,1),y("ngModelChange",function(r){return c(l),_(o.user.email,r)||(o.user.email=r),p(r)}),i(),e(6,"span",5),s(7," Error "),i(),e(8,"label"),s(9,"Password"),i(),e(10,"input",6,2),y("ngModelChange",function(r){return c(l),_(o.user.password,r)||(o.user.password=r),p(r)}),i(),e(12,"span",5),s(13," Error "),i(),e(14,"button",7),s(15,"Login"),i()(),e(16,"div",8)(17,"p",9),s(18,"-- Or Login with --"),i(),e(19,"div",10)(20,"button",11),h("click",function(){return c(l),p(o.loginWithGoogle())}),M(21,"img",12),s(22," \xA0\xA0Google "),i()(),M(23,"br"),e(24,"a",13),h("click",function(r){return c(l),o.goTo("/auth/signup"),p(r.preventDefault())}),s(25,"Register new account"),i()()}if(a&2){let l=w(5),u=w(11);d(4),S("ngModel",o.user.email),d(2),f("hidden",l.valid),d(4),S("ngModel",o.user.password),d(2),f("hidden",u.valid)}},dependencies:[E,W,x,N,I,U,T],encapsulation:2});let m=t;return m})();var P=(()=>{let t=class t{constructor(n,a){this.authService=n,this.router=a,this.newUser={}}onSubmit(){console.log(this.newUser),console.log(this.newUser),this.authService.createUser(this.newUser).subscribe(n=>{console.log(n)})}goTo(n){this.router.navigate([n])}loginWithGoogle(){this.authService.getGoogleOAuthURL()}};t.\u0275fac=function(a){return new(a||t)(g(V),g(C))},t.\u0275cmp=v({type:t,selectors:[["app-signup"]],decls:32,vars:6,consts:[["loginForm","ngForm"],["userName","ngModel"],["email","ngModel"],["password","ngModel"],[1,"centerHorizontal","centreVetical",2,"display","flex","flex-direction","column","max-width","300px",3,"ngSubmit"],[2,"justify-content","left"],["type","text","name","userName",1,"customInput",3,"ngModelChange","ngModel"],[3,"hidden"],["type","text","name","email",1,"customInput",3,"ngModelChange","ngModel"],["type","text","name","password",1,"customInput",3,"ngModelChange","ngModel"],[1,"customInput","margin1UnitVertical","actionButton"],[1,"centerHorizontal",2,"display","flex","flex-direction","column"],[1,"centerHorizontal"],[1,"centerHorizontal",2,"max-width","300px"],[1,"customInput",2,"justify-content","center",3,"click"],["src","../../../assets/icon/googleLogoG.png",2,"width","20px","height","20px"],["href","",1,"centerHorizontal",3,"click"]],template:function(a,o){if(a&1){let l=b();e(0,"form",4,0),h("ngSubmit",function(){return c(l),p(o.onSubmit())}),e(2,"label",5),s(3,"Name"),i(),e(4,"input",6,1),y("ngModelChange",function(r){return c(l),_(o.newUser.userName,r)||(o.newUser.userName=r),p(r)}),i(),e(6,"span",7),s(7," Error "),i(),e(8,"label"),s(9,"E-mail"),i(),e(10,"input",8,2),y("ngModelChange",function(r){return c(l),_(o.newUser.email,r)||(o.newUser.email=r),p(r)}),i(),e(12,"span",7),s(13," Error "),i(),e(14,"label"),s(15,"Password"),i(),e(16,"input",9,3),y("ngModelChange",function(r){return c(l),_(o.newUser.password,r)||(o.newUser.password=r),p(r)}),i(),e(18,"span",7),s(19," Error "),i(),e(20,"button",10),s(21,"Signup"),i()(),e(22,"div",11)(23,"p",12),s(24,"-- Or Login with --"),i(),e(25,"div",13)(26,"button",14),h("click",function(){return c(l),p(o.loginWithGoogle())}),M(27,"img",15),s(28," \xA0\xA0Google "),i()(),M(29,"br"),e(30,"a",16),h("click",function(r){return c(l),o.goTo("/auth/login"),p(r.preventDefault())}),s(31,"Already have an account?"),i()()}if(a&2){let l=w(5),u=w(11),r=w(17);d(4),S("ngModel",o.newUser.userName),d(2),f("hidden",l.valid),d(4),S("ngModel",o.newUser.email),d(2),f("hidden",u.valid),d(4),S("ngModel",o.newUser.password),d(2),f("hidden",r.valid)}},dependencies:[E,W,x,N,I,U,T],encapsulation:2});let m=t;return m})();var B=(()=>{let t=class t{constructor(n,a,o){this.route=n,this.router=a,this.authService=o,this.userDataEncoded=null}ngOnInit(){this.route.queryParams.subscribe(n=>{if(n.data){this.userDataEncoded=n.data;let a=JSON.parse(atob(this.userDataEncoded));console.log(a),this.authService.setUserSensitiveData(a),this.router.navigate(["/quiz"])}}),console.log()}};t.\u0275fac=function(a){return new(a||t)(g(F),g(C),g(V))},t.\u0275cmp=v({type:t,selectors:[["app-oauth"]],decls:2,vars:0,template:function(a,o){a&1&&(e(0,"p"),s(1,"Authentication in progress"),i())},encapsulation:2});let m=t;return m})();var q=[{path:"signup",component:P},{path:"login",component:R},{path:"oauth",component:B}],oe=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=k({type:t}),t.\u0275inj=D({imports:[A,E,j.forChild(q),z]});let m=t;return m})();export{oe as LoginModule};
